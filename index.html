<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>潇慕雨 Muyoo</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="Keep thinking, keep learning, keep working">





    <meta name="description" content="Keep thinking, keep learning, keep working">
<meta property="og:type" content="website">
<meta property="og:title" content="潇慕雨 Muyoo">
<meta property="og:url" content="http:&#x2F;&#x2F;www.xmuyoo.com&#x2F;index.html">
<meta property="og:site_name" content="潇慕雨 Muyoo">
<meta property="og:description" content="Keep thinking, keep learning, keep working">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    潇慕雨 Muyoo
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories">Technology</a>
            
            <a class="navbar-item "
               href="/tags">Tags</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/ppoffice/hexo-theme-minos" target="_blank" rel="noopener">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/10/21/Flink-WindowAndTime/" itemprop="url">Flink 扯蛋 —— Window</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-10-21T03:28:32.000Z" itemprop="datePublished">Oct 21 2019</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/%E6%B5%81%E8%AE%A1%E7%AE%97/">流计算</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            14 minutes read (About 2102 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2 id="流计算中的-Window"><a href="#流计算中的-Window" class="headerlink" title="流计算中的 Window"></a>流计算中的 Window</h2><p>首先，我们需要时刻铭记的是：在流计算中，数据永不停歇、永无止境。也就是说，在流计算的体系中数据是无限的。这一点和其它绝大多数计算场景非常不同。</p>
<p>数据无止境，但计算是有边界的。如何让有边界的计算去处理一个无边界的数据？这就在流计算中引入了 Window 的概念。</p>
<p>Window 在流计算中就是指一个数据窗口，Window 定义了一个边界。它将数据流上的部分数据划入边界范围内，目的是得到一个有边界的数据集合。因为 Window 有边界，所以被划到一个 Window 中的数据集合也变成了有边界、有限的。现在，有边界的计算就能够处理这同样有边界的数据集合了。</p>
<p>流计算中，定义 Window 边界的维度只有：时间。一个 Window 的下界是较早的时间点，上界是较晚的时间点。在某一时刻去观察一个 Window 时，它的上下界是确定的，被它的上下界划定的数据集合是确定的。而定义一个 Window 的长度的维度有：时间或元素数量。</p>
<h2 id="Flink-中的-Window"><a href="#Flink-中的-Window" class="headerlink" title="Flink 中的 Window"></a>Flink 中的 Window</h2><p>在 Flink 中，Window 的概念与上面解释的概念并无区别，只是作为流计算的工程实现结果，Flink 对 Window 在具体表现方式上定义了不同的类型。</p>
<h3 id="Window-的种类"><a href="#Window-的种类" class="headerlink" title="Window 的种类"></a>Window 的种类</h3><p><strong>Time Tumbling Window</strong> 是一种边界相对固定的窗口，其它一些地方也称之为 Fixed Window。这种窗口的特点是：若有多个窗口，它们各自定义的时间范围不会有交集：</p>
<p>$$<br>T_i \bigcap T_j \in \varnothing<br>$$</p>
<p>但两个窗口各自定义的时间边界可能是连在一起的。理论上严格来说，在这种窗口内的数据同样是永无止境的。但由于我们已经为它添加了一个时间边界的约束条件，所以我们通常认为它是类似有限并且可计算的。</p>
<blockquote>
<p>例如定义两个 Window：$W_1 = [10:00,11:00)$ 和 $W_2 = [11:00, 12:00)$。所有符合这两个窗口所定义的时间边界的数据都会被分配到对应的窗口中。</p>
</blockquote>
<p><strong>Time Sliding Window</strong> 是一种边界会随着时间移动而改变的窗口。通常我们直接定义的是这种窗口的时间长度，例如“最近 1 小时”、“最近 5 分钟”、“30 分钟前的 1 小时” 等。多个窗口之间的时间范围，可能是有交集的：<br>$$<br>T_i \bigcap T_j \notin \varnothing<br>$$</p>
<p>在这种窗口下，一个数据元素很可能被划定到多个窗口中。和 Time Tumbling Window 类似，理论上这种窗口内的数据也是无限的。</p>
<blockquote>
<p>例如定义两个窗口：$W_1 = [10:00, 11:00]$ 和 $W_2 = [10:30, 11:30]$，以及数据元素 $e = 10:25$。此时，$e$ 既属于 $W_1$ 也属于 $W_2$。</p>
</blockquote>
<p><strong>Count Tumbling Window</strong> 是一种边界会随时间变化而推移的窗口，当元素数量达到窗口长度时，窗口固定。我们通常只声明窗口长度。在这种窗口内，数据元素数量是有限的，但时间边界可能永远不会固定下来。多个窗口之间的元素集合没有交集，因为它定义的是“每 N 个元素在一个窗口内”。</p>
<blockquote>
<p>例如定义： $W_1, \space with \space max(count) = 100$，那么数据流上每 100 个元素为一个窗口；当一个窗口中的元素永远达不到 100 时，这个窗口的上界就会一直推移下去；这个窗口的边界也就不会确定。</p>
</blockquote>
<p><strong>Count Sliding Window</strong> 同样这种窗口的边界会随时间变化而推移。与 Count Tumbling Window 类似的是，我们通常只声明窗口的长度；而与之不同的是，它的推移方式是以窗口的单位长度进行推移，而不是窗口的整体长度，比如“最近 100 个元素”，“最近 50 个元素”等。多个窗口之间的元素集合可能是有交集的。</p>
<h3 id="数据在-Window-中是怎么流转的"><a href="#数据在-Window-中是怎么流转的" class="headerlink" title="数据在 Window 中是怎么流转的"></a>数据在 Window 中是怎么流转的</h3><p>在这借助 Flink 官方的示意图：</p>
<p><img src="images/window-mechanics.webp" alt="Window Mechianics"></p>
<p>从一个数据元素进入流开始，WindowAssigner 为这个数据元素分配一个 Window；接着，Trigger 检查这个 Window 的输出条件是否被满足。如果条件达到了，并且也有一个 Evictor，那么 Trigger 将此时 Window 中所有的数据元素交给 Evictor；如果没有 Evictor，那么 Trigger 就直接将这些数据元素交给 EventFunction。Evictor 在收到数据元素后过滤掉不需要的数据元素，然后再将数据交给 EventFunction。EventFunction 收到数据后，就开始对数据元素做计算的工作（例如求和、计数），最后将结果输出。</p>
<p><strong>Trigger</strong> 的功能是检测是否满足输出窗口内数据的条件，然后将数据输出；并决定是否继续保留这个窗口。为 Trigger 声明的检测条件是自定义的。</p>
<blockquote>
<p>之前介绍的两种 Count Window 理论上其时间边界依然是无限延续的，但通过 Trigger 设置一个最长的等待时间后，就可以使 Count Window 不必永远等待下去。与 Count Window 的思路类似，Time Window 的每个窗口内的元素数量理论上同样是无穷的。但通过 Window Assigner 和 Trigger 的协助，Window Assigner 可以将时间不被接受的数据元素拒之门外，同时 Trigger 也可以通过设置一个窗口内的元素数量上限来使窗口内的元素数据量变为有限的。</p>
</blockquote>
<p><strong>Evictor</strong> 数据的过滤器，它的功能是在接收到 Trigger 传递的数据元素后，按照声明的过滤条件将数据过滤一遍。</p>
<p><strong>Evaluation Function</strong> 它的功能是对数据元素做计算操作，例如求和、计数、求最大值或是其它一般操作。它的计算结果可能是多个的。</p>
<p>这些组件在 Flink 中均可以通过 <code>DataStream API</code> 来使用。</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="扯一下流中的时间"><a href="#扯一下流中的时间" class="headerlink" title="扯一下流中的时间"></a>扯一下流中的时间</h3><p>在计算机的世界里没有绝对准确的时间。这是因为在我们的现实世界中，绝对时间就不存在。作为三次元的生物，我们只能参考物质变化的表现来间接地感知“时间”这个四维空间中的维度变化。为了直观地记录时间，我们使用了 “时钟”。</p>
<p>当使用不同的时钟时，记录的时间值可能不同（例如我们常说的“钟快了”、“钟慢了”）。在流计算的体系里，这种不同体现在“数据产生的时间”和“在系统内数据被处理时的时间”上。这两种时间通常是不一样的。在计算时，需要选择其中一种来定义 Window 的边界。</p>
<blockquote>
<p>备注：所谓的“真正准确的时间”在计算的世界里，通常被称为墙上时钟，而墙上时钟是不存在的。现实世界中使用铯-133 原子基态的两个超精细能级之间跃迁所对应的辐射（电磁波）的 9192631770 个周期持续的时间来定义“1 秒”的单位时间。而这也使用了原子作为参照物。<br>所幸的是，在数据计算的过程中，我们通常不需要知道墙上时钟真正的值是多少；我们关心的通常是一个“边界”和“先后顺序”。</p>
</blockquote>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://flink.apache.org/news/2015/12/04/Introducing-windows.html" target="_blank" rel="noopener">Flink Introducing Windows</a></li>
<li><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.9/concepts/programming-model.html#windows" target="_blank" rel="noopener">Flink Windows</a></li>
<li><a href="https://en.wikipedia.org/wiki/Second" target="_blank" rel="noopener">Second</a></li>
</ul>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/07/LogisticRegressionNote/" itemprop="url">逻辑回归的笔记</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-07T01:00:00.000Z" itemprop="datePublished">Dec 7 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/">逻辑回归</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            19 minutes read (About 2778 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>之前使用逻辑回归时就接触到里面的sigmod函数，就有疑问为什么会想到用这个函数把线性回归的值压缩到0到1之间；而看到的介绍逻辑回归的公开课、文章，大多数都对此没有详细说明。所以现在又把LR拿出来，记录下从别人文章里学到的解释，同时也理一理逻辑回归的过程和现在的一些理解。</p>
<p>有错误、不当之处欢迎指出！</p>
<h3 id="线性回归"><a href="#线性回归" class="headerlink" title="线性回归"></a>线性回归</h3><p>在这之前，需要先提一下线性回归。</p>
<p>线性回归比较简单，从二维的空间比较容易从直观上理解：给定了一组点，然后找到一条线能够拟合这些点。这里所说的“点”就是我们拿到的样本，“线”就是我们要找到的模型（或者说函数）。</p>
<p>线性回归写出来的样子就是：</p>
<p>$$h(x) = x_0\theta_0+x_1\theta_1+x_2\theta_2+\ldots+x_n\theta_n$$</p>
        <p class="article-more-link">
            <a href="/2016/12/07/LogisticRegressionNote/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/12/04/SomethingAboutThreadSafeInJava/" itemprop="url">Java中Synchronized、Volatile、Atomic的一些事</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-12-04T02:43:13.000Z" itemprop="datePublished">Dec 4 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/Concurrency/">Concurrency</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            19 minutes read (About 2876 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="http://7vzs9m.com1.z0.glb.clouddn.com/%E5%A4%A7%E7%90%8697.jpg" alt="旅途是积累，是发现未知，是发现自己；在这世外桃源般的诺邓古村 - By Muyoo"></p>
<h1 id="Summary-of-synchronized、atomic、volatile-in-Java"><a href="#Summary-of-synchronized、atomic、volatile-in-Java" class="headerlink" title="Summary of synchronized、atomic、volatile in Java"></a>Summary of synchronized、atomic、volatile in Java</h1><p>在学习Java并发的过程中必然会遇到同步的问题；而且有时会在synchronized、volatile和atomic之间傻傻分不清楚。由此，专门去学习了一下这三者。本文就算是学习笔记。<br><em>java版本1.8</em></p>
        <p class="article-more-link">
            <a href="/2016/12/04/SomethingAboutThreadSafeInJava/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/03/23/KylinIntroduction/" itemprop="url">Kylin Learning Note —— What? (Kylin, Cube)</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-03-23T03:28:15.000Z" itemprop="datePublished">Mar 23 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/Kylin/">Kylin</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 minutes read (About 482 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="http://7vzs9m.com1.z0.glb.clouddn.com/2015-03-21%20164026.jpg" alt="阳光下的星星 - By Muyoo"></p>
<h2 id="What-is-Kylin"><a href="#What-is-Kylin" class="headerlink" title="What is Kylin?"></a>What is Kylin?</h2><p><a href="http://kylin.apache.org" target="_blank" rel="noopener">Kylin</a> is an <a href="https://en.wikipedia.org/wiki/Online_analytical_processing" target="_blank" rel="noopener">OLAP</a> system developed by the data team of eBay China.</p>
<p>Fast is the biggest selling point. It offers second level latency for query over 10 billions rows data. According to the official words, it can let you query big table in Hive at sub-second latency. Sounds cool, right?</p>
        <p class="article-more-link">
            <a href="/2016/03/23/KylinIntroduction/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2016/02/04/Summary2015/" itemprop="url">2015 我的总结</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-02-04T08:42:23.000Z" itemprop="datePublished">Feb 4 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            2 minutes read (About 225 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src alt></p>
<p>2015年对自己来说应该是一个转折点，人生中一个重要的转折点。在这一年里，我做出了很多选择，有得有失。<br>记得在2015年初始的时候对自己定了一些目标，现在回顾一下，很高兴，比较重要的都实现了。</p>
<p>回首这一年，从年初到年末，仿佛像看电影一般，一帧帧的画面在脑海里闪现。突然感到自己这一年还是做了挺多事情，不算浑浑噩噩、不算浪费。</p>
<p>2015年里，我很高兴我能坚持了自己一年至少出行两次的计划：5月初的康定新都桥，以及10月的马来西亚。年初时本计划去泰国的，后来怎么变了，其实原因已经不记得了。</p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2015/12/15/StreamDataCentral/" itemprop="url">流数据平台阅读笔记</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2015-12-15T07:04:53.000Z" itemprop="datePublished">Dec 15 2015</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/Kafka/">Kafka</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            7 minutes read (About 1085 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="http://7vzs9m.com1.z0.glb.clouddn.com/wn.jpg" alt="做一个往上爬，然后乘着叶子飞翔的梦。偶然发现一天雨后这个小家伙在种的铜钱草上。 - By Muyoo"></p>
<p>原文：<a href="http://www.confluent.io/blog/stream-data-platform-1/" target="_blank" rel="noopener">Putting Apache Kafka To Use: A Practical Guide to Building a Stream Data Platform</a></p>
<p>这篇文章是Kafka开发团队的Leader Jay Kreps所写。文章里主要介绍一个流式数据处理平台的概要，也包括这位大牛在实际工作中的经验。</p>
<h3 id="核心理念"><a href="#核心理念" class="headerlink" title="核心理念"></a>核心理念</h3><p>这篇文章分为Part1和Part2，分别介绍了两点：第一，以流数据为核心的数据处理平台的架构，任何数据都可以是流式的数据；第二，在数据平台中，统一数据格式，并且使用一种带有schema信息的数据格式。</p>
        <p class="article-more-link">
            <a href="/2015/12/15/StreamDataCentral/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2015/10/22/KafkaConfig/" itemprop="url">Kafka 配置项</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2015-10-22T09:26:25.000Z" itemprop="datePublished">Oct 22 2015</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/Kafka/">Kafka</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 minutes read (About 446 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="http://7vzs9m.com1.z0.glb.clouddn.com/%E7%85%A7%E7%89%87133.jpg" alt="世界尽头的晨曦让我这么怀念 在冰岛北部，几乎走到哪里都可以见到这座美丽的火山 - By Muyoo"></p>
<h3 id="Kafka-部分配置项"><a href="#Kafka-部分配置项" class="headerlink" title="Kafka 部分配置项"></a>Kafka 部分配置项</h3><p>本文只记录一些目前使用Kafka可能会比较有用的配置项。关于单个broker的，和关于topic-level的。其中有些配置项可以是topic级别的。<br>Kafka的版本是0.8.2.1。</p>
<ul>
<li>log.flush.interval：默认500，数据积累的量，超过这个量就将数据写到磁盘</li>
<li>log.default.flush.interval.ms：数据写到磁盘的间隔时间，毫秒。默认与log.default.flush.scheduler.interval.ms相同，3000。</li>
<li>log.retention.hours：数据保留的时间，小时。默认168</li>
<li>log.segment.bytes：数据文件大小，默认是1024<em>1024</em>1024</li>
<li>log.roll.{ms,hours}：数据文件切分的时间间隔，与大小限制同时起作用的，默认是24*7小时</li>
<li>log.cleanup.policy：处理切分后数据的方式，delete或者compact。如果是delete，被切分出来的数据会被删除；如果是compact，切分出的数据会被压缩用于淘汰过期的数据。</li>
<li>log.cleaner.min.cleanable.ratio：</li>
<li>min.insync.replicas：</li>
<li>log.roll.jitter.{ms,hours}：</li>
</ul>
<h4 id="Topic-Level"><a href="#Topic-Level" class="headerlink" title="Topic-Level"></a>Topic-Level</h4><ul>
<li>topic.flush.intervals.ms：覆盖log.default.flush.interval.ms。</li>
<li>topic.log.retention.hours：覆盖log.retention.hours</li>
<li>topic.partition.count.map：覆盖创建topic时指定的partition数量。</li>
<li>topic.log.segment.bytes：覆盖log.segment.bytes</li>
<li>topic.log.roll.{ms,hours}：覆盖log.roll.{ms,hours}</li>
<li>topic.log.cleanup.policy：覆盖log.cleanup.policy</li>
<li>min.cleanable.dirty.ratio：覆盖log.cleaner.min.cleanable.ratio</li>
<li>min.insync.replicas：覆盖min.insync.replicas</li>
<li>segment.jitter.ms：覆盖log.roll.jitter.{ms,hours}</li>
</ul>
<p>官方的topic level配置项：<a href="http://kafka.apache.org/documentation.html#topic-config" target="_blank" rel="noopener">topic level</a></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2015/10/20/KafkaMirror/" itemprop="url">Kafka 水平扩展、集群镜像</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2015-10-20T02:43:13.000Z" itemprop="datePublished">Oct 20 2015</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/Kafka/">Kafka</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            13 minutes read (About 1911 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="http://7vzs9m.com1.z0.glb.clouddn.com/%E8%97%8F%E5%9C%B0%E6%97%85%E8%A1%8C68.jpg" alt="日出总是让人心中充满无限希望与感动。站在长江源头看日出~ - By Muyoo "></p>
<p>之前阅读了Kafka的基本概念和关于Replica的文档，现在已是晕晕乎乎。在这大好的清晨微风徐徐中，继续阅读关于Kafka集群镜像的内容。<br>（Kafka版本：0.8.2.1）</p>
        <p class="article-more-link">
            <a href="/2015/10/20/KafkaMirror/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2015/10/16/KafkaReplication/" itemprop="url">Kafka Replication</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2015-10-16T08:23:44.000Z" itemprop="datePublished">Oct 16 2015</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/Kafka/">Kafka</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            4 minutes read (About 545 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="http://7vzs9m.com1.z0.glb.clouddn.com/%E5%86%B0%E6%BB%B44.jpg" alt=" 还是比较喜欢水果风味较亮的咖啡，中培的曼特宁喝起来竟会联想到原始森林T.T - By Muyoo"></p>
<p>上一篇文章简单记录了Kafka的基本工作框架、数据结构、Producer和Consumer。现在继续啃Kafka的官方文档，主要记录下Kafka中的复制集。<br>（Kafka版本 0.8.2.1）</p>
        <p class="article-more-link">
            <a href="/2015/10/16/KafkaReplication/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2015/10/14/KafkaNote/" itemprop="url">Kafka 基本概念</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2015-10-14T04:00:46.000Z" itemprop="datePublished">Oct 14 2015</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span>></span><a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/Kafka/">Kafka</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            14 minutes read (About 2035 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="http://7vzs9m.com1.z0.glb.clouddn.com/%E8%97%8F%E5%9C%B0%E6%97%85%E8%A1%8C125.jpg" alt=" 每次旅行都能让我回味到下次旅行时，罗布林卡的花真漂亮 - By Muyoo"><br>（Kafka版本 0.8.2.1）</p>
<h3 id="Kafka框架下的基本工作模式"><a href="#Kafka框架下的基本工作模式" class="headerlink" title="Kafka框架下的基本工作模式"></a>Kafka框架下的基本工作模式</h3><p>Kafka是一个消息处理系统。从大面上看，产生消息数据的生产者（Producer）将数据推送到Kafka集群，Kafka集群将消息数据保留起来；然后消费消息数据的消费者（Consumer）向Kafka集群发起请求来消费数据。如图：<br><img src="http://7vzs9m.com1.z0.glb.clouddn.com/kafka-producer_consumer.png" alt="from Apache Kafka"></p>
        <p class="article-more-link">
            <a href="/2015/10/14/KafkaNote/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous is-invisible is-hidden-mobile">
        <a href="/page/0/">Prev</a>
    </div>
    <div class="pagination-next">
        <a href="/page/2/">Next</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link is-current" href="/">1</a></li>
        
        <li><a class="pagination-link" href="/page/2/">2</a></li>
        
    </ul>
</nav>
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2019 Muyoo&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/ppoffice/hexo-theme-minos" target="_blank" rel="noopener">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="noopener">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("default");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>